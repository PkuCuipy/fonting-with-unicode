<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fonting with Unicode</title>
    <meta name="description" content="A simple tool to format text using Unicode characters.">
    <style>
      html {
        font-family: serif;
      }

      body {
        margin: 0;
        padding: 1rem;
        display: flex;
        min-height: 100vh;
        max-width: 60rem;
        margin: 0 auto;
        flex-direction: column;
        box-sizing: border-box;
      }

      #textInput {
        box-sizing: border-box;
        width: 100%;
        height: 10rem;
        min-height: 2.5rem;
        border: 1px solid #ccc;
        padding: 0.6rem;
        font-size: 1rem;
        outline: none; 
        resize: vertical;
        margin-bottom: 0.5rem;
      }

      #main {
        flex-grow: 1;
      }

      #showFontNameLabel {
        font-size: 0.7rem;
        padding: 0.3rem;
        margin: 0.8rem 0;
        display: inline-block;
        cursor: pointer;
        background-color: #eee;

        user-select: none;
        -moz-user-select: none;
        -webkit-user-select: none;

        &:hover {
          background-color: #eaeaea;
        }
      }

      #showFontName {
        display: none;
      }

      #showFontName:checked ~ #outputs > .output::before {
        content: attr(data-font);
        display: block;
        font-size: 0.8rem;
        margin-bottom: 0.5rem;
        color: #666;
      }

      .output {
        border: 1px solid #ccc;
        padding: 0.6rem;
        margin-bottom: 0.6rem;
        white-space: pre-wrap;
        overflow-wrap: break-word;
      }

      footer {
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid #433737;
        text-align: center;
        border-top: 1px solid #ccc;
        & > p {
          margin: 0.7rem;
        }
      }
    </style>
  </head>

  <body>
    <h1 style="text-align: center;">Fonting with Unicode</h1>
    <div id="main">
      <textarea id="textInput" placeholder="Type in here..."></textarea>
      <label id="showFontNameLabel" for="showFontName"><code>Show/Hide FontName</code></label>
      <input type="checkbox" id="showFontName">
      <div id="outputs"><!-- Outputs will be added here --></div>
    </div>

    <footer>
      <p>Open-Sourced on <a href="https://github.com/PkuCuipy/fonting-with-unicode" target="_blank">GitHub</a> under the MIT License.</p>
      <p>Â© 2024 Pengyu Cui</p>
    </footer>
  </body>

  <script>
    const fonts = [
      "Serif.normal", "Serif.bold", "Serif.italic", "Serif.boldItalic", 
      "Sans.normal", "Sans.bold", "Sans.italic", "Sans.boldItalic", "Calligraphy.normal", "Calligraphy.bold", 
      "Fraktur.normal", "Fraktur.bold", "Monospace.normal", "Blackboard.normal"
    ];
    const fontNameToID = (() => {
      const fontNameToIDDict = {};
      for (const [id, font] of fonts.entries()) {
        fontNameToIDDict[font] = id;
      }
      return (fontName) => fontNameToIDDict[fontName];
    })();

    const chars = [
      "Að€ð´ð‘¨ð– ð—”ð˜ˆð˜¼ð’œð“ð”„ð•¬ð™°ð”¸", "Bððµð‘©ð–¡ð—•ð˜‰ð˜½â„¬ð“‘ð”…ð•­ð™±ð”¹", "Cð‚ð¶ð‘ªð–¢ð—–ð˜Šð˜¾ð’žð“’â„­ð•®ð™²â„‚", "Dðƒð·ð‘«ð–£ð——ð˜‹ð˜¿ð’Ÿð““ð”‡ð•¯ð™³ð”»", "Eð„ð¸ð‘¬ð–¤ð—˜ð˜Œð™€â„°ð“”ð”ˆð•°ð™´ð”¼", 
      "Fð…ð¹ð‘­ð–¥ð—™ð˜ð™â„±ð“•ð”‰ð•±ð™µð”½", "Gð†ðºð‘®ð–¦ð—šð˜Žð™‚ð’¢ð“–ð”Šð•²ð™¶ð”¾", "Hð‡ð»ð‘¯ð–§ð—›ð˜ð™ƒâ„‹ð“—â„Œð•³ð™·â„", "Iðˆð¼ð‘°ð–¨ð—œð˜ð™„â„ð“˜â„‘ð•´ð™¸ð•€", "Jð‰ð½ð‘±ð–©ð—ð˜‘ð™…ð’¥ð“™ð”ð•µð™¹ð•", 
      "KðŠð¾ð‘²ð–ªð—žð˜’ð™†ð’¦ð“šð”Žð•¶ð™ºð•‚", "Lð‹ð¿ð‘³ð–«ð—Ÿð˜“ð™‡â„’ð“›ð”ð•·ð™»ð•ƒ", "MðŒð‘€ð‘´ð–¬ð— ð˜”ð™ˆâ„³ð“œð”ð•¸ð™¼ð•„", "Nðð‘ð‘µð–­ð—¡ð˜•ð™‰ð’©ð“ð”‘ð•¹ð™½â„•", 
      "OðŽð‘‚ð‘¶ð–®ð—¢ð˜–ð™Šð’ªð“žð”’ð•ºð™¾ð•†", "Pðð‘ƒð‘·ð–¯ð—£ð˜—ð™‹ð’«ð“Ÿð”“ð•»ð™¿â„™", "Qðð‘„ð‘¸ð–°ð—¤ð˜˜ð™Œð’¬ð“ ð””ð•¼ðš€â„š", "Rð‘ð‘…ð‘¹ð–±ð—¥ð˜™ð™â„›ð“¡â„œð•½ðšâ„", 
      "Sð’ð‘†ð‘ºð–²ð—¦ð˜šð™Žð’®ð“¢ð”–ð•¾ðš‚ð•Š", "Tð“ð‘‡ð‘»ð–³ð—§ð˜›ð™ð’¯ð“£ð”—ð•¿ðšƒð•‹", "Uð”ð‘ˆð‘¼ð–´ð—¨ð˜œð™ð’°ð“¤ð”˜ð–€ðš„ð•Œ", "Vð•ð‘‰ð‘½ð–µð—©ð˜ð™‘ð’±ð“¥ð”™ð–ðš…ð•", 
      "Wð–ð‘Šð‘¾ð–¶ð—ªð˜žð™’ð’²ð“¦ð”šð–‚ðš†ð•Ž", "Xð—ð‘‹ð‘¿ð–·ð—«ð˜Ÿð™“ð’³ð“§ð”›ð–ƒðš‡ð•", "Yð˜ð‘Œð’€ð–¸ð—¬ð˜ ð™”ð’´ð“¨ð”œð–„ðšˆð•", "Zð™ð‘ð’ð–¹ð—­ð˜¡ð™•ð’µð“©â„¨ð–…ðš‰â„¤", 
      "aðšð‘Žð’‚ð–ºð—®ð˜¢ð™–ð’¶ð“ªð”žð–†ðšŠð•’", "bð›ð‘ð’ƒð–»ð—¯ð˜£ð™—ð’·ð“«ð”Ÿð–‡ðš‹ð•“", "cðœð‘ð’„ð–¼ð—°ð˜¤ð™˜ð’¸ð“¬ð” ð–ˆðšŒð•”", "dðð‘‘ð’…ð–½ð—±ð˜¥ð™™ð’¹ð“­ð”¡ð–‰ðšð••", "eðžð‘’ð’†ð–¾ð—²ð˜¦ð™šâ„¯ð“®ð”¢ð–ŠðšŽð•–", 
      "fðŸð‘“ð’‡ð–¿ð—³ð˜§ð™›ð’»ð“¯ð”£ð–‹ðšð•—", "gð ð‘”ð’ˆð—€ð—´ð˜¨ð™œâ„Šð“°ð”¤ð–Œðšð•˜", "hð¡â„Žð’‰ð—ð—µð˜©ð™ð’½ð“±ð”¥ð–ðš‘ð•™", "ið¢ð‘–ð’Šð—‚ð—¶ð˜ªð™žð’¾ð“²ð”¦ð–Žðš’ð•š", "jð£ð‘—ð’‹ð—ƒð—·ð˜«ð™Ÿð’¿ð“³ð”§ð–ðš“ð•›", "kð¤ð‘˜ð’Œð—„ð—¸ð˜¬ð™ ð“€ð“´ð”¨ð–ðš”ð•œ", 
      "lð¥ð‘™ð’ð—…ð—¹ð˜­ð™¡ð“ð“µð”©ð–‘ðš•ð•", "mð¦ð‘šð’Žð—†ð—ºð˜®ð™¢ð“‚ð“¶ð”ªð–’ðš–ð•ž", "nð§ð‘›ð’ð—‡ð—»ð˜¯ð™£ð“ƒð“·ð”«ð–“ðš—ð•Ÿ", "oð¨ð‘œð’ð—ˆð—¼ð˜°ð™¤â„´ð“¸ð”¬ð–”ðš˜ð• ", "pð©ð‘ð’‘ð—‰ð—½ð˜±ð™¥ð“…ð“¹ð”­ð–•ðš™ð•¡", 
      "qðªð‘žð’’ð—Šð—¾ð˜²ð™¦ð“†ð“ºð”®ð––ðššð•¢", "rð«ð‘Ÿð’“ð—‹ð—¿ð˜³ð™§ð“‡ð“»ð”¯ð–—ðš›ð•£", "sð¬ð‘ ð’”ð—Œð˜€ð˜´ð™¨ð“ˆð“¼ð”°ð–˜ðšœð•¤", "tð­ð‘¡ð’•ð—ð˜ð˜µð™©ð“‰ð“½ð”±ð–™ðšð•¥", "uð®ð‘¢ð’–ð—Žð˜‚ð˜¶ð™ªð“Šð“¾ð”²ð–šðšžð•¦", "vð¯ð‘£ð’—ð—ð˜ƒð˜·ð™«ð“‹ð“¿ð”³ð–›ðšŸð•§", 
      "wð°ð‘¤ð’˜ð—ð˜„ð˜¸ð™¬ð“Œð”€ð”´ð–œðš ð•¨", "xð±ð‘¥ð’™ð—‘ð˜…ð˜¹ð™­ð“ð”ð”µð–ðš¡ð•©", "yð²ð‘¦ð’šð—’ð˜†ð˜ºð™®ð“Žð”‚ð”¶ð–žðš¢ð•ª", "zð³ð‘§ð’›ð—“ð˜‡ð˜»ð™¯ð“ð”ƒð”·ð–Ÿðš£ð•«", "            â€‡ ", 
      "0ðŸŽ0ðŸŽðŸ¢ðŸ¬ðŸ¢ðŸ¬0ðŸŽ0ðŸŽðŸ¶ðŸ˜", "1ðŸ1ðŸðŸ£ðŸ­ðŸ£ðŸ­1ðŸ1ðŸðŸ·ðŸ™", "2ðŸ2ðŸðŸ¤ðŸ®ðŸ¤ðŸ®2ðŸ2ðŸðŸ¸ðŸš", "3ðŸ‘3ðŸ‘ðŸ¥ðŸ¯ðŸ¥ðŸ¯3ðŸ‘3ðŸ‘ðŸ¹ðŸ›", "4ðŸ’4ðŸ’ðŸ¦ðŸ°ðŸ¦ðŸ°4ðŸ’4ðŸ’ðŸºðŸœ", 
      "5ðŸ“5ðŸ“ðŸ§ðŸ±ðŸ§ðŸ±5ðŸ“5ðŸ“ðŸ»ðŸ", "6ðŸ”6ðŸ”ðŸ¨ðŸ²ðŸ¨ðŸ²6ðŸ”6ðŸ”ðŸ¼ðŸž", "7ðŸ•7ðŸ•ðŸ©ðŸ³ðŸ©ðŸ³7ðŸ•7ðŸ•ðŸ½ðŸŸ", "8ðŸ–8ðŸ–ðŸªðŸ´ðŸªðŸ´8ðŸ–8ðŸ–ðŸ¾ðŸ ", "9ðŸ—9ðŸ—ðŸ«ðŸµðŸ«ðŸµ9ðŸ—9ðŸ—ðŸ¿ðŸ¡"
    ].map(line => Array.from(line));

    const charToID = (() => {
      const charToIdDict = {};
      for (const [id, line] of chars.entries()) {
        for (const char of Array.from(line)) {
          charToIdDict[char] = id;
        }
      }
      return (char) => charToIdDict[char];
    })();

    const charToCharWithFont = (char, fontID) => {
      const charID = charToID(char);
      if (charID === undefined) return char;
      return chars[charID][fontID];
    }

    const textToTextWithFont = (text, fontID) => {
      return Array.from(text).map(char => charToCharWithFont(char, fontID)).join("");
    }

    document.addEventListener("DOMContentLoaded", () => {
      const textInput = document.getElementById("textInput");
      const outputs = document.getElementById("outputs");

      textInput.addEventListener("input", () => {
        const currText = textInput.value;
        textInput.value = textToTextWithFont(currText, 0); // normalize text to Serif.normal
        outputs.innerHTML = ""; // Clear previous outputs

        fonts.forEach((font, fontID) => {
          const formattedText = textToTextWithFont(currText || "\n", fontID);
          const div = document.createElement("div");
          div.className = "output";
          div.setAttribute("data-font", font.split(".").join(" "));
          div.textContent = formattedText;
          outputs.appendChild(div);
        });
      });

      // Set initial text
      textInput.value = "A QUICK BROWN FOX JUMPS OVER THE LAZY DOG. \na quick brown fox jumps over the lazy dog. \n0123456789";
      textInput.value = "A quick brown fox jumps over the lazy dog";

      // Trigger input event to format initial text
      textInput.dispatchEvent(new Event("input")); 
    });
  </script>
  
</html>